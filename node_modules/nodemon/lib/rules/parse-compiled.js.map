{"version":3,"sources":["parse.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;;;;;;;;;AASvB,SAAS,KAAK,CAAC,QAAQ,EAAE,QAAQ,EAAE;AACjC,MAAI,KAAK,GAAG;AACV,UAAM,EAAE,EAAE;AACV,SAAK,EAAE,EAAE;GACV,CAAC;;AAEF,IAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,GAAG,EAAE,OAAO,EAAE;;AAEpD,QAAI,GAAG,EAAE;AACP,aAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;KACtB;;AAED,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI;AACF,UAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KAC5B,CAAC,OAAO,CAAC,EAAE,EAAE;;AAEd,QAAI,IAAI,KAAK,IAAI,EAAE;AACjB,WAAK,GAAG;AACN,cAAM,EAAE,IAAI,CAAC,MAAM,IAAI,EAAE;AACzB,aAAK,EAAE,IAAI,CAAC,KAAK,IAAI,EAAE;OACxB,CAAC;;AAEF,aAAO,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;KAC9B;;;AAGD,WAAO,QAAQ,CAAC,IAAI,EAAE,EAAE,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACrD,CAAC,CAAC;CACJ;;AAED,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC","file":"parse-compiled.js","sourcesContent":["'use strict';\nvar fs = require('fs');\n\n/**\n * Parse the nodemon config file, supporting both old style\n * plain text config file, and JSON version of the config\n *\n * @param  {String}   filename\n * @param  {Function} callback\n */\nfunction parse(filename, callback) {\n  var rules = {\n    ignore: [],\n    watch: [],\n  };\n\n  fs.readFile(filename, 'utf8', function (err, content) {\n\n    if (err) {\n      return callback(err);\n    }\n\n    var json = null;\n    try {\n      json = JSON.parse(content);\n    } catch (e) {}\n\n    if (json !== null) {\n      rules = {\n        ignore: json.ignore || [],\n        watch: json.watch || [],\n      };\n\n      return callback(null, rules);\n    }\n\n    // otherwise return the raw file\n    return callback(null, { raw: content.split(/\\n/) });\n  });\n}\n\nmodule.exports = parse;\n\n"]}