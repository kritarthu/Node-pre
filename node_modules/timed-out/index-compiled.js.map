{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE,IAAI,EAAE;AACrC,KAAI,GAAG,CAAC,YAAY,EAAE;AAAE,SAAO,GAAG,CAAC;EAAE;;AAErC,KAAI,IAAI,GAAG,GAAG,CAAC,QAAQ,GAAI,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAI,GAAI,EAAE,CAAC;;AAE5D,IAAG,CAAC,YAAY,GAAG,UAAU,CAAC,SAAS,cAAc,GAAG;AACvD,KAAG,CAAC,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,GAAG,IAAI,KAAK,CAAC,iCAAiC,GAAG,IAAI,CAAC,CAAC;AAC5D,GAAC,CAAC,IAAI,GAAG,WAAW,CAAC;AACrB,KAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;EACrB,EAAE,IAAI,CAAC,CAAC;;;;AAIT,IAAG,CAAC,UAAU,CAAC,IAAI,EAAE,SAAS,oBAAoB,GAAG;AACpD,KAAG,CAAC,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,GAAG,IAAI,KAAK,CAAC,6BAA6B,GAAG,IAAI,CAAC,CAAC;AACxD,GAAC,CAAC,IAAI,GAAG,iBAAiB,CAAC;AAC3B,KAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC;;AAEH,UAAS,KAAK,GAAG;AAChB,MAAI,GAAG,CAAC,YAAY,EAAE;AACrB,eAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC/B,MAAG,CAAC,YAAY,GAAG,IAAI,CAAC;GACxB;EACD;;AAED,QAAO,GAAG,CACR,EAAE,CAAC,UAAU,EAAE,KAAK,CAAC,CACrB,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;CACrB,CAAC","file":"index-compiled.js","sourcesContent":["'use strict';\n\nmodule.exports = function (req, time) {\n\tif (req.timeoutTimer) { return req; }\n\n\tvar host = req._headers ? (' to ' + req._headers.host) : '';\n\n\treq.timeoutTimer = setTimeout(function timeoutHandler() {\n\t\treq.abort();\n\t\tvar e = new Error('Connection timed out on request' + host);\n\t\te.code = 'ETIMEDOUT';\n\t\treq.emit('error', e);\n\t}, time);\n\n\t// Set additional timeout on socket - in case if remote\n\t// server freeze after sending headers\n\treq.setTimeout(time, function socketTimeoutHandler() {\n\t\treq.abort();\n\t\tvar e = new Error('Socket timed out on request' + host);\n\t\te.code = 'ESOCKETTIMEDOUT';\n\t\treq.emit('error', e);\n\t});\n\n\tfunction clear() {\n\t\tif (req.timeoutTimer) {\n\t\t\tclearTimeout(req.timeoutTimer);\n\t\t\treq.timeoutTimer = null;\n\t\t}\n\t}\n\n\treturn req\n\t\t.on('response', clear)\n\t\t.on('error', clear);\n};\n"]}